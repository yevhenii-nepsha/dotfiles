/*
 * Firefox Moonfly Theme
 * Based on vim-moonfly-colors by bluz71
 * https://github.com/bluz71/vim-moonfly-colors
 */

/* ============================================================================
 * MOONFLY COLOR PALETTE
 * ============================================================================ */

:root {
  /* Background and foreground */
  --moonfly-black: #080808;
  --moonfly-white: #c6c6c6;
  --moonfly-white-bright: #e4e4e4;

  /* Grey scale */
  --moonfly-grey0: #323437;
  --moonfly-grey7: #121212;
  --moonfly-grey11: #1c1c1c;
  --moonfly-grey13: #212121;
  --moonfly-grey15: #262626;
  --moonfly-grey16: #292929;
  --moonfly-grey18: #2e2e2e;
  --moonfly-grey23: #3a3a3a;
  --moonfly-grey27: #444444;
  --moonfly-grey30: #4e4e4e;
  --moonfly-grey35: #585858;
  --moonfly-grey39: #626262;
  --moonfly-grey50: #808080;
  --moonfly-grey58: #949494;
  --moonfly-grey62: #9e9e9e;
  --moonfly-grey70: #b2b2b2;

  /* Core colors */
  --moonfly-red: #ff5d5d;
  --moonfly-crimson: #ff5189;
  --moonfly-orange: #de935f;
  --moonfly-yellow: #e3c78a;
  --moonfly-khaki: #c6c684;
  --moonfly-green: #8cc85f;
  --moonfly-emerald: #36c692;
  --moonfly-turquoise: #79dac8;
  --moonfly-sky: #74b2ff;
  --moonfly-blue: #80a0ff;
  --moonfly-lavender: #adadf3;
  --moonfly-violet: #cf87e8;
  --moonfly-purple: #ae81ff;

  /* Selection */
  --moonfly-selection: #373c4d;
  --moonfly-selection-text: #b2ceee;

  /* Semantic colors */
  --moonfly-accent: var(--moonfly-blue);
  --moonfly-accent-hover: var(--moonfly-sky);
  --moonfly-success: var(--moonfly-emerald);
  --moonfly-warning: var(--moonfly-yellow);
  --moonfly-error: var(--moonfly-red);

  /* Font */
  --moonfly-font: "JetBrainsMono Nerd Font", monospace;
}

/* ============================================================================
 * GLOBAL OVERRIDES
 * ============================================================================ */

/* Apply dark color scheme */
:root {
  color-scheme: dark !important;
}

/* Global font */
* {
  font-family: var(--moonfly-font) !important;
}

/* ============================================================================
 * MAIN BROWSER WINDOW
 * ============================================================================ */

/* Root window background */
#main-window,
#browser,
#navigator-toolbox {
  background-color: var(--moonfly-black) !important;
}

/* ============================================================================
 * NAVIGATION BAR (TOOLBAR)
 * ============================================================================ */

#nav-bar {
  background-color: var(--moonfly-grey7) !important;
  border-bottom: 1px solid var(--moonfly-grey15) !important;
  padding-block: 2px !important;
}

/* Toolbar buttons */
#nav-bar toolbarbutton,
#nav-bar .toolbarbutton-1 {
  color: var(--moonfly-grey70) !important;
}

#nav-bar toolbarbutton:hover,
#nav-bar .toolbarbutton-1:hover {
  background-color: var(--moonfly-grey18) !important;
  color: var(--moonfly-white) !important;
}

#nav-bar toolbarbutton[open="true"],
#nav-bar .toolbarbutton-1[open="true"] {
  background-color: var(--moonfly-grey23) !important;
}

/* Back/Forward buttons */
#back-button,
#forward-button {
  color: var(--moonfly-grey62) !important;
}

#back-button:hover,
#forward-button:hover {
  color: var(--moonfly-white) !important;
}

#back-button[disabled="true"],
#forward-button[disabled="true"] {
  opacity: 0.4 !important;
}

/* ============================================================================
 * URL BAR
 * ============================================================================ */

#urlbar,
#searchbar {
  font-size: 1em !important;
}

/* URL bar background */
#urlbar-background {
  background-color: var(--moonfly-grey11) !important;
  border: 1px solid var(--moonfly-grey23) !important;
  border-radius: 4px !important;
}

/* URL bar focused */
#urlbar[focused="true"] > #urlbar-background {
  background-color: var(--moonfly-grey13) !important;
  border-color: var(--moonfly-blue) !important;
  box-shadow: 0 0 0 1px var(--moonfly-blue) !important;
}

/* URL bar text */
#urlbar-input {
  color: var(--moonfly-white) !important;
}

/* URL bar placeholder */
#urlbar-input::placeholder {
  color: var(--moonfly-grey50) !important;
}

/* URL scheme (https://) */
#urlbar-scheme {
  color: var(--moonfly-grey58) !important;
}

/* URL bar icons */
#identity-box,
#tracking-protection-icon-container {
  color: var(--moonfly-grey62) !important;
}

/* Secure site indicator */
#identity-box.verifiedIdentity #identity-icon,
#identity-box.chromeUI #identity-icon {
  fill: var(--moonfly-emerald) !important;
}

/* Page action buttons (bookmark, etc) */
#page-action-buttons > .urlbar-page-action {
  color: var(--moonfly-grey58) !important;
}

#page-action-buttons > .urlbar-page-action:hover {
  background-color: var(--moonfly-grey23) !important;
  color: var(--moonfly-white) !important;
}

/* Bookmarked star */
#star-button[starred="true"] {
  color: var(--moonfly-yellow) !important;
}

/* ============================================================================
 * URL BAR DROPDOWN / AUTOCOMPLETE
 * ============================================================================ */

#urlbar .urlbarView {
  background-color: var(--moonfly-grey13) !important;
  border: 1px solid var(--moonfly-grey23) !important;
  border-radius: 4px !important;
}

.urlbarView-row {
  color: var(--moonfly-white) !important;
}

.urlbarView-row:hover,
.urlbarView-row[selected="true"] {
  background-color: var(--moonfly-grey0) !important;
}

.urlbarView-url {
  color: var(--moonfly-turquoise) !important;
}

.urlbarView-title {
  color: var(--moonfly-white) !important;
}

.urlbarView-secondary {
  color: var(--moonfly-grey58) !important;
}

/* Search suggestions */
.urlbarView-type-search {
  color: var(--moonfly-sky) !important;
}

/* ============================================================================
 * HORIZONTAL TAB BAR (if visible)
 * ============================================================================ */

#TabsToolbar {
  background-color: var(--moonfly-black) !important;
}

/* Tab background */
.tab-background {
  background-color: transparent !important;
  border-radius: 4px 4px 0 0 !important;
  margin-inline: 1px !important;
}

/* Active tab */
.tabbrowser-tab[selected="true"] .tab-background {
  background-color: var(--moonfly-grey15) !important;
  border: 1px solid var(--moonfly-blue) !important;
  border-radius: 4px !important;
}

/* Tab hover */
.tabbrowser-tab:hover:not([selected="true"]) .tab-background {
  background-color: var(--moonfly-grey11) !important;
}

/* Tab text */
.tab-label {
  color: var(--moonfly-grey62) !important;
}

.tabbrowser-tab[selected="true"] .tab-label {
  color: var(--moonfly-white) !important;
}

.tabbrowser-tab:hover .tab-label {
  color: var(--moonfly-white) !important;
}

/* Tab close button */
.tab-close-button {
  color: var(--moonfly-grey50) !important;
}

.tab-close-button:hover {
  background-color: var(--moonfly-crimson) !important;
  color: var(--moonfly-white) !important;
  border-radius: 4px !important;
}

/* Tab icon */
.tab-icon-image {
  opacity: 0.85 !important;
}

.tabbrowser-tab[selected="true"] .tab-icon-image {
  opacity: 1 !important;
}

/* New tab button */
#tabs-newtab-button,
#new-tab-button {
  color: var(--moonfly-grey62) !important;
}

#tabs-newtab-button:hover,
#new-tab-button:hover {
  background-color: var(--moonfly-grey18) !important;
  color: var(--moonfly-blue) !important;
}

/* Tab loading indicator */
.tab-throbber {
  fill: var(--moonfly-blue) !important;
}

/* ============================================================================
 * VERTICAL TABS SIDEBAR (Native Firefox)
 * ============================================================================ */

/* Sidebar container */
#sidebar-main {
  background-color: var(--moonfly-black) !important;
  border-right: 1px solid var(--moonfly-grey15) !important;
}

#sidebar-box {
  background-color: var(--moonfly-black) !important;
  border-right: 1px solid var(--moonfly-grey15) !important;
}

/* Sidebar header */
#sidebar-header {
  background-color: var(--moonfly-grey7) !important;
  border-bottom: 1px solid var(--moonfly-grey15) !important;
  color: var(--moonfly-white) !important;
}

#sidebar-title {
  color: var(--moonfly-white) !important;
}

/* Sidebar close button */
#sidebar-close {
  color: var(--moonfly-grey62) !important;
}

#sidebar-close:hover {
  background-color: var(--moonfly-crimson) !important;
  color: var(--moonfly-white) !important;
}

/* Vertical tabs in sidebar */
#vertical-tabs {
  background-color: var(--moonfly-black) !important;
}

/* Vertical tab items */
.vertical-tab {
  background-color: transparent !important;
  color: var(--moonfly-grey62) !important;
  border-radius: 4px !important;
  margin: 2px 4px !important;
}

.vertical-tab:hover {
  background-color: var(--moonfly-grey11) !important;
  color: var(--moonfly-white) !important;
}

.vertical-tab[selected="true"],
.vertical-tab[visuallyselected="true"] {
  background-color: var(--moonfly-grey15) !important;
  color: var(--moonfly-white) !important;
  border: 1px solid var(--moonfly-blue) !important;
}

/* Pinned tabs section */
.vertical-pinned-tabs-container {
  background-color: var(--moonfly-black) !important;
  border-bottom: 1px solid var(--moonfly-grey15) !important;
}

/* ============================================================================
 * BOOKMARKS BAR
 * ============================================================================ */

#PersonalToolbar {
  background-color: var(--moonfly-grey7) !important;
  border-bottom: 1px solid var(--moonfly-grey15) !important;
}

/* Bookmark items */
#PlacesToolbar .bookmark-item {
  color: var(--moonfly-grey70) !important;
}

#PlacesToolbar .bookmark-item:hover {
  background-color: var(--moonfly-grey18) !important;
  color: var(--moonfly-white) !important;
}

/* Bookmark popup menus */
#PlacesToolbar menupopup,
#BMB_bookmarksPopup,
#PlacesToolbar menupopup menuitem,
#PlacesToolbar menupopup menu {
  font-size: 1em !important;
}

/* ============================================================================
 * MENUS AND POPUPS
 * ============================================================================ */

/* Main menu panel */
#appMenu-popup,
#customizationui-widget-panel,
panelview,
.panel-arrowcontent {
  background-color: var(--moonfly-grey13) !important;
  border: 1px solid var(--moonfly-grey23) !important;
  color: var(--moonfly-white) !important;
}

/* Menu items */
.panel-subview-body menuitem,
.panel-subview-body toolbarbutton,
panelview toolbarbutton {
  color: var(--moonfly-white) !important;
}

.panel-subview-body menuitem:hover,
.panel-subview-body toolbarbutton:hover,
panelview toolbarbutton:hover {
  background-color: var(--moonfly-grey0) !important;
}

/* Context menus */
menupopup {
  --panel-background: var(--moonfly-grey13) !important;
  --panel-border-color: var(--moonfly-grey23) !important;
  background-color: var(--moonfly-grey13) !important;
  border: 1px solid var(--moonfly-grey23) !important;
  border-radius: 4px !important;
}

menuitem,
menu {
  color: var(--moonfly-white) !important;
}

menuitem:hover,
menu:hover,
menuitem[_moz-menuactive="true"],
menu[_moz-menuactive="true"] {
  background-color: var(--moonfly-grey0) !important;
  color: var(--moonfly-white) !important;
}

menuitem[disabled="true"],
menu[disabled="true"] {
  color: var(--moonfly-grey50) !important;
}

/* Menu separators */
menuseparator {
  border-color: var(--moonfly-grey23) !important;
}

/* Keyboard shortcuts in menus */
menuitem .menu-accel,
menuitem .menu-iconic-accel {
  color: var(--moonfly-grey58) !important;
}

/* ============================================================================
 * FINDBAR
 * ============================================================================ */

findbar {
  background-color: var(--moonfly-grey7) !important;
  border-top: 1px solid var(--moonfly-grey15) !important;
  color: var(--moonfly-white) !important;
}

/* Findbar input */
findbar .findbar-textbox {
  background-color: var(--moonfly-grey11) !important;
  border: 1px solid var(--moonfly-grey23) !important;
  color: var(--moonfly-white) !important;
  border-radius: 4px !important;
}

findbar .findbar-textbox:focus {
  border-color: var(--moonfly-blue) !important;
}

/* Findbar status */
findbar .findbar-find-status,
findbar .found-matches {
  color: var(--moonfly-grey62) !important;
}

/* Findbar not found */
findbar .findbar-textbox[status="notfound"] {
  background-color: var(--moonfly-grey18) !important;
  border-color: var(--moonfly-red) !important;
  color: var(--moonfly-red) !important;
}

/* Findbar buttons */
findbar toolbarbutton {
  color: var(--moonfly-grey70) !important;
}

findbar toolbarbutton:hover {
  background-color: var(--moonfly-grey18) !important;
  color: var(--moonfly-white) !important;
}

/* Highlight all checkbox */
findbar .findbar-highlight {
  color: var(--moonfly-white) !important;
}

/* ============================================================================
 * NOTIFICATIONS AND PROMPTS
 * ============================================================================ */

/* Notification bar */
notification-message,
.notificationbox-stack notification {
  background-color: var(--moonfly-grey13) !important;
  border-bottom: 1px solid var(--moonfly-grey23) !important;
  color: var(--moonfly-white) !important;
}

/* Permission prompts */
.popup-notification-body {
  color: var(--moonfly-white) !important;
}

.popup-notification-description {
  color: var(--moonfly-grey70) !important;
}

/* ============================================================================
 * SCROLLBARS
 * ============================================================================ */

/* Thin scrollbars */
* {
  scrollbar-width: thin !important;
  scrollbar-color: var(--moonfly-grey35) var(--moonfly-grey11) !important;
}

/* Scrollbar track */
scrollbar {
  background-color: var(--moonfly-grey11) !important;
}

/* Scrollbar thumb */
scrollbar thumb {
  background-color: var(--moonfly-grey35) !important;
  border-radius: 4px !important;
}

scrollbar thumb:hover {
  background-color: var(--moonfly-grey50) !important;
}

/* ============================================================================
 * DEVTOOLS
 * ============================================================================ */

#devtools-toolbox-window,
.devtools-monospace {
  font-family: var(--moonfly-font) !important;
}

/* ============================================================================
 * MISC ELEMENTS
 * ============================================================================ */

/* Tooltips */
tooltip {
  background-color: var(--moonfly-grey13) !important;
  border: 1px solid var(--moonfly-grey23) !important;
  color: var(--moonfly-white) !important;
  border-radius: 4px !important;
}

/* Selection highlight */
::selection {
  background-color: var(--moonfly-selection) !important;
  color: var(--moonfly-selection-text) !important;
}

/* Focus outline */
*:focus-visible {
  outline-color: var(--moonfly-blue) !important;
}

/* Disabled elements */
*[disabled="true"] {
  opacity: 0.5 !important;
}

/* ============================================================================
 * EXTENSION BUTTONS
 * ============================================================================ */

#unified-extensions-button {
  color: var(--moonfly-grey62) !important;
}

#unified-extensions-button:hover {
  background-color: var(--moonfly-grey18) !important;
  color: var(--moonfly-white) !important;
}

/* Extensions panel */
#unified-extensions-panel {
  --panel-background: var(--moonfly-grey13) !important;
}

.unified-extensions-item {
  color: var(--moonfly-white) !important;
}

.unified-extensions-item:hover {
  background-color: var(--moonfly-grey0) !important;
}

/* ============================================================================
 * DOWNLOADS PANEL
 * ============================================================================ */

#downloadsPanel {
  background-color: var(--moonfly-grey13) !important;
}

#downloadsListBox .downloadButton:hover {
  background-color: var(--moonfly-grey23) !important;
}

.downloadProgress {
  background-color: var(--moonfly-grey23) !important;
}

.downloadProgress .progress-bar {
  background-color: var(--moonfly-blue) !important;
}

/* ============================================================================
 * PRIVATE BROWSING INDICATOR
 * ============================================================================ */

#private-browsing-indicator-with-label {
  background-color: var(--moonfly-purple) !important;
  color: var(--moonfly-black) !important;
  border-radius: 4px !important;
  padding: 2px 8px !important;
}

/* ============================================================================
 * TAB AUDIO INDICATOR
 * ============================================================================ */

.tab-icon-sound {
  color: var(--moonfly-blue) !important;
}

.tab-icon-sound:hover {
  background-color: var(--moonfly-grey23) !important;
  border-radius: 50% !important;
}

/* Muted tab */
.tab-icon-sound[muted="true"],
.tab-icon-sound[soundplaying-paused="true"] {
  color: var(--moonfly-crimson) !important;
}
